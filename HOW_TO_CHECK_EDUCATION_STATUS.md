# 如何查询 GitHub Education 申请状态

## 📋 完整流程

### 1️⃣ 前置条件

在查询申请状态前，请确保：

- ✅ 账号的 Copilot Pro 状态已设置为 **申请中**
- ✅ 账号已添加 **GitHub Cookie**（必需！）
- ✅ 已配置代理（中国大陆用户必需）

---

### 2️⃣ 获取 GitHub Cookie

#### 方法一：快捷命令（推荐）

1. 在浏览器中访问 [GitHub](https://github.com) 并登录
2. 按 `F12` 打开开发者工具
3. 切换到 **Console** 标签
4. 输入以下命令并回车：
   ```javascript
   copy(document.cookie)
   ```
5. Cookie 已自动复制到剪贴板

#### 方法二：手动复制

1. 按 `F12` 打开开发者工具
2. 切换到 **Application** 标签（或 **存储** 标签）
3. 左侧展开 **Cookies** → 点击 `https://github.com`
4. 右侧会显示所有 Cookie，关键的有：
   - `user_session`（必需）
   - `logged_in`（必需）
   - `_octo`（可选）
5. 复制整行或手动拼接：`user_session=xxx; logged_in=yes; _octo=xxx`

#### Cookie 格式示例

```
user_session=v1%3Aa1b2c3d4; _octo=GH1.1.123456; logged_in=yes
```

**⚠️ 安全提示**：Cookie 等同于登录凭证，请勿分享给他人！

---

### 3️⃣ 配置账号

1. 在 **账号列表** 页面，找到要查询的账号
2. 点击 **编辑** 按钮
3. 在表单中：
   - **GitHub Copilot Pro 状态** → 选择 **申请中**
   - **GitHub Cookie** → 粘贴刚才获取的 Cookie
4. 点击 **保存修改**

---

### 4️⃣ 配置代理（中国大陆用户）

如果您在中国大陆，访问 GitHub 需要配置代理：

编辑 `.env.local` 文件，添加：

```bash
# 使用 HTTP 代理
PROXY_URL=http://127.0.0.1:7890

# 或使用 SOCKS5 代理
PROXY_URL=socks5://127.0.0.1:7890
```

**📖 详细代理设置**：请查看 [PROXY_SETUP.md](./PROXY_SETUP.md)

---

### 5️⃣ 查询申请状态

1. 返回 **账号列表** 页面
2. 展开要查询的账号（点击账号卡片）
3. 在 **GitHub Copilot Pro** 区域，点击 **🔍 查询申请状态** 按钮
4. 等待查询完成（通常 5-10 秒）

---

### 6️⃣ 查看结果

查询成功后会显示以下信息之一：

#### ✅ Approved（已通过）

```
申请状态: Approved
🏫 学校: XXX 大学
📚 类型: University
📅 提交时间: 2025-11-08
```

**下一步操作**：
1. 点击 **编辑** 按钮
2. 将状态改为 **已激活**
3. 保存后即可生成分享卡密

#### ❌ Denied（被拒绝）

```
申请状态: Denied
🏫 学校: XXX 大学
📚 类型: University
📅 提交时间: 2025-11-08
💬 拒绝原因: ...
```

**下一步操作**：
- 检查申请信息是否准确
- 考虑使用其他学校信息重新申请
- 或使用其他 GitHub 账号

#### ⏳ Pending（审核中）

```
申请状态: Pending
🏫 学校: XXX 大学
📚 类型: University
📅 提交时间: 2025-11-08
```

**下一步操作**：耐心等待审核（通常 1-7 天）

---

## ❓ 常见问题

### Q1: 点击查询按钮没反应？

**原因**：可能是以下情况之一
- 账号状态未设置为 **申请中**
- 未添加 GitHub Cookie
- Cookie 格式错误

**解决**：
1. 检查账号状态是否为 **申请中**
2. 重新获取并添加 Cookie
3. 查看浏览器控制台是否有错误信息

---

### Q2: 提示 "无法连接到 GitHub"？

**原因**：网络无法访问 GitHub（常见于中国大陆）

**解决**：
1. 配置代理（参考上方第 4 步）
2. 检查代理是否正常运行
3. 尝试在浏览器中访问 GitHub 验证网络

---

### Q3: 提示 "Cookie 无效或已过期"？

**原因**：Cookie 已过期或格式错误

**解决**：
1. 重新登录 GitHub
2. 重新获取 Cookie（参考上方第 2 步）
3. 确保复制了完整的 Cookie 字符串

---

### Q4: 如何知道 Cookie 是否正确？

**验证方法**：

Cookie 应该包含以下关键字段：
- `user_session=` → 最重要，表示登录会话
- `logged_in=yes` → 表示已登录状态

**正确示例**：
```
user_session=v1%3AabcdefABCDEF1234; logged_in=yes; _octo=GH1.1.234567890.1234567890
```

**错误示例**：
```
Cookie: ...  （包含 "Cookie:" 前缀）
user_session  （缺少等号和值）
```

---

### Q5: 为什么只有"申请中"状态才能查询？

**设计考虑**：
- **未开通** 状态：还没申请，无需查询
- **申请中** 状态：需要跟踪申请进度
- **已激活** 状态：已确认通过，无需重复查询

如果您的账号状态设置错误，请先编辑账号修正状态。

---

### Q6: 查询频率有限制吗？

**建议**：
- ⏰ 每个账号建议间隔 **1 小时** 以上再次查询
- 🚫 避免频繁查询，以免被 GitHub 限流
- 📅 申请通常在 1-7 天内完成审核

---

## 🔧 技术原理

### API 工作流程

```
用户点击查询
    ↓
前端发送请求 → /api/check-education
    ↓
后端使用 Cookie 请求 GitHub
    ↓
解析 HTML 页面获取申请状态
    ↓
返回结构化数据给前端
    ↓
前端显示查询结果
```

### Cookie 的作用

Cookie 相当于"临时身份证"，让服务器能够：
1. ✅ 验证您已登录 GitHub
2. ✅ 访问您的 Education 申请页面
3. ✅ 读取申请状态和详细信息

**无 Cookie = 无权访问**，因此 Cookie 是查询的必需条件。

---

## 📞 获取帮助

如果遇到问题：

1. 📖 查看 [COOKIE_GUIDE.md](./COOKIE_GUIDE.md) - Cookie 获取详细教程
2. 🌐 查看 [PROXY_SETUP.md](./PROXY_SETUP.md) - 代理配置详细教程
3. 🐛 查看浏览器控制台和服务器日志排查错误
4. 💬 在 GitHub Issues 提交问题反馈

---

## 📝 总结

**完整流程总结**：

```
1. 获取 GitHub Cookie → copy(document.cookie)
2. 配置账号信息 → 状态设为"申请中" + 添加 Cookie
3. 配置代理（中国大陆） → PROXY_URL=http://...
4. 查询申请状态 → 点击"查询申请状态"按钮
5. 根据结果操作 → 通过则改为"已激活"，否则重新申请
```

祝您使用愉快！🎉
